<div class="parent">
<div class="div1">
  <h1>Informácie o používateľovi</h1>
</div>
  <div class="div2">
    <img class="pfp" src="assets/profilovka.jpeg"/>
  </div>
  <div class="div3">
  <p><strong>Užívateľské meno:</strong> {{data.username}}</p>
  <p><strong>Pozícia:</strong> {{data.role}}</p>
  <p><strong>Status:</strong> {{data.status}}</p>
  </div>

  @if ((loggedRole() == "master" || loggedRole() == "admin") && this.authService.isAuthenticated()){
    <div class="div4">
    <p>Poznámka(poznámku vidíte len vy)</p>
    <div class="note"> <input type="text" [(ngModel)]="note"/>
    @if(noteLoaded){
      <button class="save-btn" (click)="updateNote()">Uložiť poznámku</button>
    }
    @if(noteUpdated){
      <i class="bi bi-check-lg"></i>
    }
    </div>
    </div>
  }

  @if (loggedRole() == "admin" && this.authService.isAuthenticated()){

    <div class="div5">
      <p>Zmeniť rolu</p>
      @if(data.role != "admin"){
        <mat-form-field>
          <mat-label>Select an option</mat-label>
          <mat-select [(value)]="selected" (selectionChange)="changeRole()">
            <mat-option value="student">Student</mat-option>
            <mat-option value="master">Master</mat-option>
            <mat-option value="admin">Admin</mat-option>
          </mat-select>
        </mat-form-field>
      }
      @if (selected == "admin" && data.role != "admin"){
        <p style="color: red">Nastavili ste rolu admina, po opustení tohto okna ju nebude možné odobrať</p>
      }
    </div>


  }
</div>

